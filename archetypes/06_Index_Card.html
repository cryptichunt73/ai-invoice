<!doctype html>
<html>
<head>
    <style>
        @page { size: A4; margin: 15mm; }
        body { font-family: 'Times New Roman', serif; color: #000; line-height: 1.4; background: #f0f0f0; padding: 20px; }
        .card { 
            border: 1px solid #000; 
            background: #fff; 
            padding: 20px; 
            margin-bottom: 15px; 
            box-shadow: 4px 4px 0px #000; 
            position: relative;
        }
        .card-header { 
            font-family: 'Arial', sans-serif; 
            font-size: 9px; 
            font-weight: bold; 
            text-transform: uppercase; 
            border-bottom: 1px dotted #000; 
            margin-bottom: 10px; 
            padding-bottom: 5px; 
        }
        .item-list { font-size: 11px; }
        .item-list-row { display: flex; border-bottom: 1px solid #eee; padding: 4px 0; }
        .item-list-row span { flex: 1; }
        .total-badge { position: absolute; right: 20px; bottom: 20px; border: 2px double #000; padding: 10px; font-weight: bold; font-size: 20px; }
        @media print { body { background: #fff !important; } }

    </style>
</head>
<body>
    <div class="card" style="width: 70%;">
        <div class="card-header">
            Sec 01 // Originator
            <span style="float:right;">{{ invoice.title }} // {{ invoice.number }}</span>
        </div>
        <strong style="font-size: 18px;">{{ company.name }}</strong><br>
        {{ company.address }}<br><br>

        <span style="font-family:'Arial',sans-serif; font-size:9px; font-weight:bold; text-transform:uppercase;">
            Date:
        </span>
        <span>{{ invoice.date }}</span>
    </div>

    <div class="card" style="width: 80%; margin-left: auto;">
        <div class="card-header">Sec 02 // Recipient & Logistics</div>
        <div style="display: flex; gap: 30px;">
            <div style="flex: 1;">
                <strong>Buyer:</strong> {{ buyer.name }}<br>{{ buyer.address }}
                {% if notify and (notify.name or notify.address) %}
                <br><br><strong>Notify:</strong> {{ notify.name }}<br>{{ notify.address }}
                {% endif %}
            </div>
            <div style="flex: 1;">
                <strong>Transit:</strong> {{ invoice.port_loading }} &rarr; {{ invoice.port_discharge }}<br>
                Via: {{ invoice.shipment_method }}
            </div>
        </div>
    </div>

    <div class="card">
        <div class="card-header">Sec 03 // Itemized Manifest [{{ category }}]</div>
        <div class="item-list">
            {% for it in items %}
            <div class="item-list-row">
                <span style="flex:0.5;">{{ it.sl_no }}</span>
                <span style="flex:2;"><strong>{{ it.item_no }}</strong> {{ it.description }}</span>
                <span>{{ it.qty }} {{ it.unit }}</span>
                <span style="text-align:right;">{{ it.amount }}</span>
            </div>
            {% endfor %}
        </div>
    </div>

    <div class="card" style="width: 90%;">
        <div class="card-header">Sec 04 // Financial & Bank</div>
        <div style="display: flex; justify-content: space-between; gap: 20px;">
            <div style="flex: 1;">
                {{ bank.bank_name }}<br>
                A/C: {{ bank.account_no }}<br>
                IBAN: {{ bank.iban }}<br>
                SWIFT: {{ bank.swift }}
                {% if bank.branch %}<br>Branch: {{ bank.branch }}{% endif %}
            </div>
            <div style="flex: 1; text-align: right;">
                <div class="total-badge">{{ totals.grand_total }}</div>
                <div style="margin-top: 70px; font-size: 10px;">
                    <strong>Amount in words:</strong><br>
                    {{ totals.amount_in_words }}
                </div>
            </div>
        </div>
    </div>

    <div class="tab-top">{{ invoice.number }} â€¢ {{ invoice.date }}</div>
    This is a computer-generated invoice
</body>
</html>
